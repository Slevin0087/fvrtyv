:root {
  --gap-for-pstate: 1em;
  --padding-top-p-state: 1em;
  --gap-for-pstate-head: 1em;
  --padding-psate-head: 0.5em;
  --btn-pstate-left-bottom: clamp(
    1rem,
    2vw,
    2.5rem
  ); /* Replace vw with clamp for stability */
  --font-size-ps-350px: 1.3em;
  --font-size-table-900px: 1.4em;
  --padding-table: 1em;
  --padding-table-350: clamp(1rem, 2vw, 2rem); /* Replace vw */
  --padding-table-750px: clamp(2rem, 5vw, 4rem); /* Replace vw */
  --p-state-table-width-1200: calc(100vw / 2);
  --p-state-table-width-1500: calc(100vw / 4);
  --padding-player-state-content-left-right: clamp(
    1rem,
    2vw,
    2rem
  ); /* Replace vw */
  --padding-player-state-content-left-right-750: clamp(
    4rem,
    10vw,
    6rem
  ); /* Replace vw */
  --padding-player-state-content-left-right-900: clamp(
    6rem,
    15vw,
    9rem
  ); /* Replace vw */
  --padding-player-state-content-left-right-1200: clamp(
    8rem,
    20vw,
    12rem
  ); /* Replace vw */
  --padding-player-state-content-left-right-1500: clamp(
    10rem,
    30vw,
    16rem
  ); /* Replace vw */

  /* wrap-line adaptive variables */
  --wrap-line-gap: clamp(0.5rem, 2vw, 1rem); /* Mobile: 0.5rem, Tablet+: 1rem */
  --wrap-line-padding: clamp(0.5rem, 1.5vw, 1rem); /* Adaptive padding */
  --left-td-min-width: clamp(
    80px,
    30%,
    150px
  ); /* Mobile: 30% of container, Desktop: 150px */
}

.player-state {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: rgb(112, 112, 168);
  width: 100%;
  height: 100%;
}

.player-state .btn {
  width: 50px;
  height: 50px;
  line-height: 1;
  padding: 0;
  text-align: center;
  color: yellow !important;
  background-color: transparent;
  -webkit-text-fill-color: yellow;
  border: 1px outset black;
  min-width: calc(var(--card-width) / 2);
  min-height: calc(var(--card-width) / 2);
  line-height: 1;
  padding: 0;
  text-align: center;
  font-size: calc(var(--card-width) / 2);
}

.player-state-head {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--gap-for-pstate-head);
  width: 100%;
  /* color: black; */
  color: yellow;
  background-color: rgb(155, 60, 112);
  padding: var(--padding-psate-head);
}

.player-state-div {
  width: 100vw;
  height: 100vh;
}

.player-state-content {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.p-state-table {
  /* display: grid; */
  /* grid-template-columns: auto 1fr; Левая колонка по ширине контента */
  /* gap: 12px 20px; */
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  width: 100%;
  max-width: 600px; /* Limit width on wide screens */
  font-size: var(--font-size-s-350px);
  /* font-size: 5vh; */
  border-collapse: separate; /*Важно! Должно быть 'separate' (по умолчанию)*/
  border-spacing: calc(var(--gap-for-pstate) * 4) 0; /* Горизонтальное, затем вертикальное */
  background-color: brown;
  border: 1px solid #c5b310;
  border-bottom: 0;
}

.wrap-line {
  border-bottom: 1px solid #c5b310;
  display: flex;
  justify-content: space-between;
  flex-direction: row;
  align-items: center;
  flex-wrap: wrap;
  width: 100%;
  padding: var(--wrap-line-padding);
  gap: var(--wrap-line-gap);
  /* min-height: 2.5rem; */
  box-sizing: border-box; /* Include padding in width calculation */
}

.right-td {
  justify-self: end; /* Выравнивание по правому краю */
  text-align: right;
  word-break: break-word; /* Перенос длинных слов */
  overflow-wrap: anywhere;
  color: yellow;
  line-height: 0.9;
  flex: 1; /* Grow to fill available space */
  /* min-width: 60px; */
}

.left-td {
  justify-self: start; /* Выравнивание по левому краю */
  /* min-width: var(--left-td-min-width); */
  /* color: black; */
  line-height: 0.9;
  color: rgb(0, 196, 0);
  flex-shrink: 0; /* Prevent shrinking below min-width */
}

.p-state-table .wrap-line:last-child {
  margin-bottom: 0;
}

.wrap-line:nth-child(even) {
  background-color: rgb(112, 112, 168);
  background-size: 100%;
}

.sub-item {
  font-size: 0.9em;
  color: #666;
  margin-left: 20px;
}

.dt-dd-div {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* Base mobile (320px+) - default styles already set */

@media (max-width: 500px) {
  .wrap-line {
    gap: clamp(0.5rem, 2vw, 0.8rem); /* Tight gap on mobile */
    padding: clamp(0.3rem, 1.5vw, 0.7rem);
    flex-direction: row; /* Keep horizontal layout */
  }

  /* .left-td {
    min-width: clamp(70px, 25%, 120px);
    font-size: clamp(0.8rem, 2vw, 0.95rem);
  } */

  /* .right-td {
    min-width: clamp(50px, 20%, 100px);
    font-size: clamp(0.8rem, 2vw, 0.95rem);
  } */
}

/* Adjust for short viewport heights - works with any width */
@media (max-height: 660px) {
  .wrap-line {
    gap: clamp(0.3rem, 1.5vh, 0.6rem) !important; /* Override with vh */
    padding: clamp(0.2rem, 1vh, 0.5rem) !important; /* Override with vh */
    /* min-height: auto; Allow shrinking */
  }
}

/* Extra tight for very short screens */
@media (max-height: 450px) {
  .wrap-line {
    gap: clamp(0.2rem, 1vh, 0.4rem) !important;
    padding: clamp(0.15rem, 0.8vh, 0.35rem) !important;
    /* min-height: 1.5rem; */
  }
}

@media (min-width: 500px) {
  .wrap-line {
    gap: clamp(0.8rem, 3vw, 1.2rem); /* Medium gap for tablets */
    padding: clamp(0.6rem, 2vw, 0.95rem);
  }

  /* .left-td {
    min-width: clamp(100px, 28%, 150px);
    font-size: clamp(0.9rem, 2.5vw, 1.1rem);
  } */

  /* .right-td {
    min-width: clamp(70px, 22%, 120px);
    font-size: clamp(0.9rem, 2.5vw, 1.1rem);
  } */

  .player-state .btn {
    font-size: var(--font-size-s-350px);
  }
}

@media (max-height: 350px) {
  .player-state .btn {
    width: 40px;
    height: 30px;
  }
  .player-state-title {
    /* font-size: calc(var(--font-size-s-350px) / 1.1); */
    font-size: 5vh;
  }
  .p-state-table {
    font-size: 5vh;
  }
}

@media (min-width: 768px) {
  .player-state-content {
    padding-left: var(--padding-player-state-content-left-right-750);
    padding-right: var(--padding-player-state-content-left-right-750);
  }

  .wrap-line {
    gap: clamp(1rem, 4vw, 1.5rem); /* Comfortable gap for desktop */
    padding: clamp(0.7rem, 2.5vw, 1.1rem);
  }

  /* .left-td {
    min-width: 150px;
    font-size: 1rem;
  } */

  /* .right-td {
    min-width: auto;
    font-size: 1rem;
  } */
}

@media (min-width: 1024px) {
  .player-state-content {
    padding-left: var(--padding-player-state-content-left-right-900);
    padding-right: var(--padding-player-state-content-left-right-900);
  }
  /* .p-state-table {
    font-size: var(--font-size-table-900px);
  } */

  .wrap-line {
    gap: clamp(1.2rem, 5vw, 2rem); /* Generous gap on large screens */
    padding: clamp(0.8rem, 3vw, 1rem);
    flex-wrap: nowrap; /* Don't wrap on desktop */
  }
}

@media (min-width: 1440px) {
  .player-state-content {
    padding-left: var(--padding-player-state-content-left-right-1200);
    padding-right: var(--padding-player-state-content-left-right-1200);
  }
  .player-state .btn {
    font-size: var(--font-size-s-350px);
  }
}

@media (min-width: 1600px) {
  .player-state-content {
    padding-left: var(--padding-player-state-content-left-right-1500);
    padding-right: var(--padding-player-state-content-left-right-1500);
  }
  .player-state .btn {
    font-size: var(--font-size-s-350px);
  }
}
